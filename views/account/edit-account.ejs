<% if (title) { %>
    <h1><%= title %></h1>
<% } else {
    res.redirect('/')
} %>

<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%- error.msg %><span>X</span></li>
        <% }) %>
    </ul>
<% } %>
<%- messages() %>

<div id="update-info">
    <form id="update-info-form" action="/account/edit/<%- locals.account_id %>" method="post">
        <label for="fname">First Name</label>
        <input id="fname" type="text" name="account_firstname" required value="<%= locals.account_firstname %>">
        <label for="lname">Last Name</label>
        <input id="lname" type="text" name="account_lastname" required value="<%= locals.account_lastname %>">
        <label for="email">Email</label>
        <input id="email" type="text" name="account_email" required value="<%= locals.account_email %>">

        <input type="hidden" name="account_id" <% if(locals.account_id) { %> value="<%= locals.account_id %>"
        <% } %>>

        <input type="submit" value="UPDATE ACCOUNT DETAILS">
    </form>
</div>

<h2>Update Password</h2>
<p>Passwords must be at least 12 characters and contain at least 1 number, 1 capital letter and 1 special character</p>
<p>*Note: your original password will be changed</p>
<div id="update-pw">
    <form id="update-pw-form" action="/account/updatePassword" method="post">
        <label for="password">Password</label>
        <%- include('../partials/pwVisibility') %>
        <input type="password" id="password" name="account_password">

        <input type="hidden" name="account_id" <% if(locals.account_id) { %> value="<%= locals.account_id %>"
        <% } %>>

        <input type="submit" value="UPDATE PASSWORD">
    </form>
</div>

<script src="../.././js/script.js"></script>